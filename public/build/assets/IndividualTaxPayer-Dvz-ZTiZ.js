import{r as n,j as e,H as f,L as v}from"./app-Cky24j3P.js";import{D as T,d as w}from"./DashboardLayout-Bq4dFH1h.js";import{D as u,u as m,w as I,F as C}from"./FileSaver.min-UD9zId5s.js";import"./index-BHpvtppC.js";const L=[{tin:"0025152785",bvn:"22142XXXXXX",nin:"52332222",Title:"Mr.",SBIRt_name:"ARUA",middle_name:"ONWUKA",last_name:"OBAJI",GenderName:"Male",StateOfOrigin:"ABIA",date_of_birth:"2025-05-23",nationality_name:"Nigerian",phone_no_1:"08024986156",LGAName:"YABO",StateName:"ABIA",CountryName:"Nigeria",TaxAuthorityCode:"ABIRS",TaxAuthorityName:"Abia State Board of Internal Revenue",TaxpayerStatus:"Active"},{tin:"0025152786",bvn:"22142XXXXXY",nin:"52332223",Title:"Mrs.",SBIRt_name:"GRACE",middle_name:"EMEKA",last_name:"NWANKWO",GenderName:"Female",StateOfOrigin:"ENUGU",date_of_birth:"2025-04-12",nationality_name:"Nigerian",phone_no_1:"08033921156",LGAName:"NSUKKA",StateName:"ENUGU",CountryName:"Nigeria",TaxAuthorityCode:"ENIRS",TaxAuthorityName:"Enugu Internal Revenue Service",TaxpayerStatus:"Active"},{tin:"0025152787",bvn:"22142XXXXXZ",nin:"52332224",Title:"Dr.",SBIRt_name:"TUNDE",middle_name:"BOLA",last_name:"FALANA",GenderName:"Male",StateOfOrigin:"LAGOS",date_of_birth:"2025-05-07",nationality_name:"Nigerian",phone_no_1:"07023456156",LGAName:"IKEJA",StateName:"LAGOS",CountryName:"Nigeria",TaxAuthorityCode:"LIRS",TaxAuthorityName:"Lagos Internal Revenue Service",TaxpayerStatus:"Inactive"},{tin:"0025152788",bvn:"22142XXXXXK",nin:"52332225",Title:"Mr.",SBIRt_name:"KINGSLEY",middle_name:"UZO",last_name:"NWAFOR",GenderName:"Male",StateOfOrigin:"ANAMBRA",date_of_birth:"2025-05-15",nationality_name:"Nigerian",phone_no_1:"08112345678",LGAName:"AWKA SOUTH",StateName:"ANAMBRA",CountryName:"Nigeria",TaxAuthorityCode:"ANIRS",TaxAuthorityName:"Anambra State IRS",TaxpayerStatus:"Active"}];function O(){const[s,h]=n.useState(1),[r,b]=n.useState(""),[i,g]=n.useState(""),[p,A]=n.useState(()=>{const t=new Date;return t.setMonth(t.getMonth()-3),t}),[N,j]=n.useState(new Date),o=10,d=L.filter(t=>{const a=t.tin.toLowerCase().includes(r.toLowerCase())||t.SBIRt_name.toLowerCase().includes(r.toLowerCase())||t.last_name.toLowerCase().includes(r.toLowerCase()),c=i===""||t.TaxpayerStatus===i,l=new Date(t.date_of_birth),_=l>=p&&l<=N;return a&&c&&_}),x=Math.ceil(d.length/o),y=d.slice((s-1)*o,s*o),S=()=>{const t=m.json_to_sheet(d),a=m.book_new();m.book_append_sheet(a,t,"Taxpayers");const c=I(a,{bookType:"xlsx",type:"array"}),l=new Blob([c],{type:"application/octet-stream"});C.saveAs(l,"individual_taxpayers.xlsx")};return e.jsxs(T,{children:[e.jsx(f,{title:"Individual Taxpayers"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-6",children:[e.jsx(v,{href:"/dashboard",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800",children:"← Back to Dashboard"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center border px-2 py-1 rounded",children:[e.jsx(w,{className:"text-gray-500 mr-2"}),e.jsx("input",{type:"text",value:r,onChange:t=>b(t.target.value),placeholder:"Search by TIN or Name",className:"px-2 py-1 outline-none"})]}),e.jsxs("select",{value:i,onChange:t=>g(t.target.value),className:"border px-3 py-2 rounded text-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]}),e.jsx(u,{selected:p,onChange:A,dateFormat:"dd-MM-yyyy",className:"border px-3 py-2 rounded text-sm",placeholderText:"From Date"}),e.jsx(u,{selected:N,onChange:j,dateFormat:"dd-MM-yyyy",className:"border px-3 py-2 rounded text-sm",placeholderText:"To Date"}),e.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Export to Excel"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white rounded shadow border text-sm",children:[e.jsx("thead",{className:"bg-green-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"TIN"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Full Name"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Gender"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"DOB"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Phone"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Nationality"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"State"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"LGA"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Tax Authority"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"text-center py-4 text-gray-500",children:"No taxpayers found."})}):y.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-100 border-b",children:[e.jsx("td",{className:"px-4 py-2",children:t.tin}),e.jsx("td",{className:"px-4 py-2",children:`${t.Title} ${t.SBIRt_name} ${t.middle_name} ${t.last_name}`}),e.jsx("td",{className:"px-4 py-2",children:t.GenderName}),e.jsx("td",{className:"px-4 py-2",children:t.date_of_birth}),e.jsx("td",{className:"px-4 py-2",children:t.phone_no_1}),e.jsx("td",{className:"px-4 py-2",children:t.nationality_name}),e.jsx("td",{className:"px-4 py-2",children:t.StateName}),e.jsx("td",{className:"px-4 py-2",children:t.LGAName}),e.jsx("td",{className:"px-4 py-2",children:t.TaxAuthorityName}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.TaxpayerStatus==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.TaxpayerStatus})})]},a))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[e.jsx("button",{onClick:()=>h(t=>Math.max(t-1,1)),disabled:s===1,className:"bg-green-600 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"Previous"}),e.jsxs("span",{className:"text-gray-700",children:["Page ",s," of ",x]}),e.jsx("button",{onClick:()=>h(t=>Math.min(t+1,x)),disabled:s===x,className:"bg-green-600 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"Next"})]})]})]})}export{O as default};
