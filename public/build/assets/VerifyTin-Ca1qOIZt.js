import{r as s,j as e,H as h,O as f,L as m,V as r}from"./app-xaBlbNWs.js";import{D as b}from"./DashboardLayout-CPd6OOLg.js";function j(){const[t,l]=s.useState("individual"),[a,p]=s.useState(""),[d,c]=s.useState(!1),[u,x]=s.useState(null),g=async()=>{if(!a.trim()){r.error("Please enter a TIN");return}c(!0),x(null);const o=t==="individual"?"/api/jtb/verify-individual-tin":"/api/jtb/verify-non-individual-tin";try{const n=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tin:a})}),i=await n.json();n.ok&&(i==null?void 0:i.ResponseCode)==="001"?(x(i),r.success("Verification successful")):r.error((i==null?void 0:i.ResponseDescription)||"Verification failed")}catch(n){console.error(n),r.error("An error occurred during verification")}finally{c(!1)}};return e.jsxs(b,{children:[e.jsx(h,{title:"Verify TIN"}),e.jsx(f,{position:"top-right"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(m,{href:"/dashboard",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800",children:"← Back to Dashboard"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:`px-4 py-2 rounded transition ${t==="individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>l("individual"),children:"Individual TIN"}),e.jsx("button",{className:`px-4 py-2 rounded transition ${t==="non-individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>l("non-individual"),children:"Non-Individual TIN"})]})]}),e.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded shadow p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"tin",className:"block text-sm font-medium text-gray-700 mb-2",children:["Enter ",t==="individual"?"Individual":"Non-Individual"," TIN:"]}),e.jsx("input",{id:"tin",type:"text",value:a,onChange:o=>p(o.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-300",placeholder:"Enter TIN here..."})]}),e.jsx("button",{onClick:g,disabled:d,className:"w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded disabled:opacity-50",children:d?"Verifying...":"Verify TIN"})]}),u&&e.jsxs("div",{className:"mt-6 bg-green-50 border border-green-200 p-4 rounded text-sm",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Verification Result:"}),e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-xs",children:JSON.stringify(u,null,2)})]})]})]})}export{j as default};
