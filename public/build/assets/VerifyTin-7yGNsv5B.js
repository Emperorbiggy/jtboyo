import{r,j as e,H as p,O as f,L as j,V as t}from"./app-Bs-H8dM1.js";import{D as g}from"./DashboardLayout-Bx8mpYLJ.js";function v(){const[i,o]=r.useState("individual"),[d,h]=r.useState(""),[c,m]=r.useState(!1),[s,x]=r.useState(null),u=async()=>{if(!d.trim()){t.error("Please enter a TIN");return}m(!0),x(null);const l=i==="individual"?"/api/jtb/verify-individual-tin":"/api/jtb/verify-non-individual-tin";try{const n=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tin:d})}),a=await n.json();n.ok&&(a==null?void 0:a.ResponseCode)==="001"?(x(a),t.success("Verification successful")):t.error((a==null?void 0:a.ResponseDescription)||"Verification failed")}catch(n){console.error(n),t.error("An error occurred during verification")}finally{m(!1)}};return e.jsxs(g,{children:[e.jsx(p,{title:"Verify TIN"}),e.jsx(f,{position:"top-right"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx(j,{href:"/dashboard",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800",children:"← Back to Dashboard"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsx("button",{className:`px-4 py-2 rounded transition ${i==="individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>o("individual"),children:"Individual TIN"}),e.jsx("button",{className:`px-4 py-2 rounded transition ${i==="non-individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>o("non-individual"),children:"Non-Individual TIN"})]})]}),e.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white rounded shadow p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"tin",className:"block text-sm font-medium text-gray-700 mb-2",children:["Enter ",i==="individual"?"Individual":"Non-Individual"," TIN:"]}),e.jsx("input",{id:"tin",type:"text",value:d,onChange:l=>h(l.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-300",placeholder:"Enter TIN here..."})]}),e.jsx("button",{onClick:u,disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded disabled:opacity-50",children:c?"Verifying...":"Verify TIN"})]}),s&&s.Taxpayer&&e.jsxs("div",{className:"mt-8 w-full max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6 border border-green-300 overflow-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Verification Result"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-gray-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"TIN:"})," ",s.Taxpayer.tin]}),s.Taxpayer.first_name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"First Name:"})," ",s.Taxpayer.first_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Middle Name:"})," ",s.Taxpayer.middle_name||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Name:"})," ",s.Taxpayer.last_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.Taxpayer.phone_no]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.Taxpayer.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date of Birth:"})," ",s.Taxpayer.date_of_birth]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Registration Date:"})," ",s.Taxpayer.date_of_registration]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Authority:"})," ",s.Taxpayer.tax_authority]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Office:"})," ",s.Taxpayer.tax_office||"N/A"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Registered Name:"})," ",s.Taxpayer.registered_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Registration Number:"})," ",s.Taxpayer.registration_number]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.Taxpayer.phone_no]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.Taxpayer.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date of Incorporation:"})," ",s.Taxpayer.date_of_incorporation]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date of Registration:"})," ",s.Taxpayer.date_of_registration]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Authority:"})," ",s.Taxpayer.tax_authority]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Office:"})," ",s.Taxpayer.tax_office||"N/A"]})]})]})]})]})]})}export{v as default};
