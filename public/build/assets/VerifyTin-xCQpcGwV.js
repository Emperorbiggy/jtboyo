import{r as t,j as e,H as p,O as f,L as g,V as r}from"./app-BhucE2tZ.js";import{D as y}from"./DashboardLayout-B3M9cPZI.js";function v(){const[a,o]=t.useState("individual"),[d,u]=t.useState(""),[c,x]=t.useState(!1),[i,m]=t.useState(null),h=async()=>{if(!d.trim()){r.error("Please enter a TIN");return}x(!0),m(null);const l=a==="individual"?"/api/jtb/verify-individual-tin":"/api/jtb/verify-non-individual-tin";try{const n=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tin:d})}),s=await n.json();n.ok&&(s==null?void 0:s.ResponseCode)==="001"?(m(s),r.success("Verification successful")):r.error((s==null?void 0:s.ResponseDescription)||"Verification failed")}catch(n){console.error(n),r.error("An error occurred during verification")}finally{x(!1)}};return e.jsxs(y,{children:[e.jsx(p,{title:"Verify TIN"}),e.jsx(f,{position:"top-right"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(g,{href:"/dashboard",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800",children:"← Back to Dashboard"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:`px-4 py-2 rounded transition ${a==="individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>o("individual"),children:"Individual TIN"}),e.jsx("button",{className:`px-4 py-2 rounded transition ${a==="non-individual"?"bg-green-700 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>o("non-individual"),children:"Non-Individual TIN"})]})]}),e.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded shadow p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"tin",className:"block text-sm font-medium text-gray-700 mb-2",children:["Enter ",a==="individual"?"Individual":"Non-Individual"," TIN:"]}),e.jsx("input",{id:"tin",type:"text",value:d,onChange:l=>u(l.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-300",placeholder:"Enter TIN here..."})]}),e.jsx("button",{onClick:h,disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded disabled:opacity-50",children:c?"Verifying...":"Verify TIN"})]}),i&&i.Taxpayer&&e.jsxs("div",{className:"mt-8 max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6 border border-green-300",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Verification Result"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-gray-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"TIN:"})," ",i.Taxpayer.tin]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"First Name:"})," ",i.Taxpayer.first_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Middle Name:"})," ",i.Taxpayer.middle_name||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Name:"})," ",i.Taxpayer.last_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",i.Taxpayer.phone_no]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.Taxpayer.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date of Birth:"})," ",i.Taxpayer.date_of_birth]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Registration Date:"})," ",i.Taxpayer.date_of_registration]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Authority:"})," ",i.Taxpayer.tax_authority]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tax Office:"})," ",i.Taxpayer.tax_office||"N/A"]})]})]})]})]})}export{v as default};
