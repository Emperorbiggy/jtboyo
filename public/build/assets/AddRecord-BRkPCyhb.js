import{r as i,j as e,H as p,a as y}from"./app-Dn_UFmjz.js";import{D as b}from"./DashboardLayout-B1rIQKrS.js";function h(){const[a,n]=i.useState({jtb_tin:"",tcc_number:"",tax_period:"",turnover:"",assessable_profit:"",total_profit:"",tax_payable:"",tax_paid:"",payment_date:"",tax_type:"",tax_authority:"",tax_office:"",EmployerName:"",TaxPayerAddress:"",TaxPayerName:"",Sourceofincome:"",expirydate:""}),[l,x]=i.useState(!1),[s,o]=i.useState(null),d=t=>{n({...a,[t.target.name]:t.target.value})},u=async t=>{var r,c;t.preventDefault(),x(!0),o(null);try{const m=await y.post("/api/jtb/add-tax-record",a);o({type:"success",text:"Record submitted successfully!"}),n({jtb_tin:"",tcc_number:"",tax_period:"jan 2019 - Dec 2019",turnover:"",assessable_profit:"",total_profit:"",tax_payable:"",tax_paid:"",payment_date:"",tax_type:"",tax_authority:"",tax_office:"",EmployerName:"",TaxPayerAddress:"",TaxPayerName:"",Sourceofincome:"",expirydate:""})}catch(m){o({type:"error",text:((c=(r=m.response)==null?void 0:r.data)==null?void 0:c.message)||"An error occurred while submitting."})}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Add Tax Record"}),e.jsxs(b,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-green-800",children:"Add Tax Record"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800 transition",children:"Back to Dashboard"})]}),s&&e.jsx("div",{className:`mb-4 p-3 rounded ${s.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-700"}`,children:s.text}),e.jsxs("form",{onSubmit:u,className:"bg-white p-6 rounded shadow space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[[["jtb_tin","JTB TIN *"],["tcc_number","TCC Number *"],["tax_period","Tax Period *"],["turnover","Turnover *"],["assessable_profit","Assessable Profit *"],["total_profit","Total Profit *"],["tax_payable","Tax Payable *"],["tax_paid","Tax Paid *"],["tax_type","Tax Type *"],["tax_authority","Tax Authority *"],["tax_office","Tax Office"],["EmployerName","Employer Name *"],["TaxPayerAddress","Taxpayer Address *"],["TaxPayerName","Taxpayer Name *"],["Sourceofincome","Source of Income *"]].map(([t,r])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),e.jsx("input",{type:"text",name:t,value:a[t],onChange:d,className:"w-full border border-gray-300 rounded px-3 py-2",required:r.includes("*")})]},t)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),e.jsx("input",{type:"date",name:"payment_date",value:a.payment_date,onChange:d,className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TCC Expiry Date *"}),e.jsx("input",{type:"date",name:"expirydate",value:a.expirydate,onChange:d,className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-green-700 text-white rounded hover:bg-green-800 disabled:opacity-50",children:l?"Submitting...":"Submit Record"})})]})]})]})}export{h as default};
