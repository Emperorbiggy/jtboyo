import{r as u,j as e,H as p}from"./app-Dotmn3Oo.js";import{D as x}from"./DashboardLayout-BtgcaJMp.js";const h="/app/public";function f(){const[t,a]=u.useState({tin:"",location:"",asset_type:"",asset_value:"",date_acquired:"",description:""}),[r,n]=u.useState({}),s=i=>{a({...t,[i.target.name]:i.target.value})},m=async i=>{i.preventDefault(),n({});const c={};if(Object.entries(t).forEach(([o,l])=>{l||(c[o]="This field is required")}),Object.keys(c).length>0){n(c);return}try{const o=await fetch("/app/public/api/jtb/submit-asset",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),l=await o.json();o.ok&&l.success?(alert("Asset added successfully!"),a({tin:"",location:"",asset_type:"",asset_value:"",date_acquired:"",description:""})):alert(l.message||"Something went wrong.")}catch(o){console.error("Error:",o),alert("Network error. Please try again.")}};return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Add Asset Record"}),e.jsxs(x,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-green-800",children:"Add Asset Record"}),e.jsx("button",{onClick:()=>window.location.href=`${h}/dashboard`,className:"px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800 transition",children:"Back to Dashboard"})]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 rounded-lg shadow",children:[e.jsx(d,{label:"TIN *",name:"tin",value:t.tin,required:!0,onChange:s,error:r.tin}),e.jsx(d,{label:"Location *",name:"location",value:t.location,required:!0,onChange:s,error:r.location}),e.jsx(d,{label:"Asset Type *",name:"asset_type",value:t.asset_type,required:!0,onChange:s,error:r.asset_type}),e.jsx(d,{label:"Asset Value *",name:"asset_value",value:t.asset_value,required:!0,onChange:s,error:r.asset_value}),e.jsx(b,{label:"Date Acquired *",name:"date_acquired",value:t.date_acquired,required:!0,onChange:s,error:r.date_acquired}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:s,className:"w-full border border-gray-300 p-2 rounded",rows:3}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end",children:e.jsx("button",{type:"submit",className:"bg-green-700 hover:bg-green-800 text-white px-6 py-2 rounded transition",children:"Submit Asset Record"})})]})]})]})}function d({label:t,name:a,value:r,onChange:n,error:s}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsx("input",{type:"text",name:a,value:r,onChange:n,className:"w-full border border-gray-300 p-2 rounded"}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]})}function b({label:t,name:a,value:r,onChange:n,error:s}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsx("input",{type:"date",name:a,value:r,onChange:n,className:"w-full border border-gray-300 p-2 rounded"}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]})}export{f as default};
